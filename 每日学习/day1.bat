@echo off

setlocal enabledelayedexpansion


goto :app2


::::::::::::::::::运算符::::::::::::::::::
:::运算符	描述	示例	结果
:::+	加法	set /a r=5+3	8
:::-	减法	set /a r=5-3	2
:::*	乘法	set /a r=5*3	15
:::/	整数除法	set /a r=10/3	3
:::%	取模	set /a r=10%3	1
:::()	括号分组	set /a r=(2+3)*4	20
:::,	多表达式	set /a a=5,b=a*2	b=10
:::特殊运算：
:::	自增：set /a count+=1
:::	自减：set /a count-=1
:::	位运算：&(AND), |(OR), ^(XOR)
:::	位移：<<(左移), >>(右移)
::::::::::::::::::正则表达式::::::::::::::::::

:::	echo %user_data1% | findstr /r "^[0-9]*$" >nul
:::	分解解释：
:::	echo %user_data1%
:::	输出用户输入的内容（假设是第一个数字）

:::	|（管道操作符）
:::	将前一个命令的输出作为后一个命令的输入

:::	findstr
:::	Windows搜索工具，类似Unix的grep

:::	/r选项
:::	表示使用正则表达式（Regular Expression）进行搜索
:::	
:::	"^[0-9]*$"正则表达式

:::	^：匹配字符串开头

:::	[0-9]：匹配0-9之间的任意数字

:::	*：匹配前一个字符（数字）0次或多次

:::	$：匹配字符串结尾

:::	整体含义：整个字符串必须由0个或多个数字组成

:::	>nul
:::	将命令输出重定向到空设备（即不显示任何输出）
:::	
:::	完整含义：
:::	"检查变量%user_data1%的值是否完全由数字组成（0-9），且不显示任何匹配结果"

:::	执行结果判断：
:::	如果输入是纯数字（如"123"），findstr返回errorlevel=0

:::	如果输入包含非数字（如"12a3"），返回errorlevel=1


::::::::::::::::::::::1. 整数验证::::::::::::::::::::
:: 正整数（不含0）
echo %input% | findstr /r "^[1-9][0-9]*$" >nul

:: 非负整数（含0）
echo %input% | findstr /r "^[0-9]+$" >nul

:: 带符号整数（含负数）
echo %input% | findstr /r "^-?[0-9]+$" >nul


::::::::::::::::::::::2. 浮点数验证:::::::::::::::::::
:: 标准浮点数（含整数）
echo %input% | findstr /r "^-?[0-9]*\.?[0-9]+$" >nul

:: 强制小数格式（必须包含小数点）
echo %input% | findstr /r "^-?[0-9]+\.[0-9]+$" >nul


::::::::::::::::::3. 日期格式验证::::::::::::::::::
:: YYYY-MM-DD 格式
echo %input% | findstr /r "^[0-9]{4}-[0-1][0-9]-[0-3][0-9]$" >nul

:: YYYY/MM/DD 格式
echo %input% | findstr /r "^[0-9]{4}/[0-1][0-9]/[0-3][0-9]$" >nul


:::::::::::::::::::4. 时间格式验证:::::::::::::::::
:: HH:MM:SS 格式
echo %input% | findstr /r "^[0-2][0-9]:[0-5][0-9]:[0-5][0-9]$" >nul

:: HH:MM 格式
echo %input% | findstr /r "^[0-2][0-9]:[0-5][0-9]$" >nul


::::::::::::::::::5. 文件路径验证::::::::::::::::::
:: 验证合法Windows路径（基础版）
echo %input% | findstr /r "^[a-zA-Z]:\\[^\\]+(\\[^\\]+)*$" >nul


:::::::::::::::::6. 电子邮件验证:::::::::::::::::::
:: 简单邮箱格式验证
echo %input% | findstr /r "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" >nul


:::::::::::::::::7. IP地址验证::::::::::::::::::::
:: IPv4地址验证
echo %input% | findstr /r "^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$" >nul

:::::::::::::::8. 十六进制颜色码验证:::::::::::::::::
:: #RRGGBB 格式
echo %input% | findstr /r /i "^#[0-9a-f]{6}$" >nul


:::::::::::::::9. 密码强度验证:::::::::::::::::
:: 至少8位，含大小写字母和数字
echo %input% | findstr /r "^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$" >nul


:::::::::::::::10. 域名验证::::::::::::::::::::::
:: 基本域名格式
echo %input% | findstr /r "^[a-zA-Z0-9]+([\-\.]{1}[a-zA-Z0-9]+)*\.[a-zA-Z]{2,}$" >nul


::::::::::::::实用组合技巧多重验证（或条件）::::::::::::::::::::::
:: 验证输入是数字或"quit"
echo %input% | findstr /r "^[0-9]+$ ^quit$" >nul


:::::::::::::::排除特定字符:::::::::::::::::
:: 验证不含特殊字符
echo %input% | findstr /r "^[^&|<>]*$" >nul


::::::::::::::长度限制:::::::::::::::::::::::
:: 验证4-16位字母数字
echo %input% | findstr /r "^[a-zA-Z0-9]{4,16}$" >nul


::::::::::::::::完整应用示例::::::::::::::::::::
@echo off
:validate_email
set /p email=请输入邮箱地址: 

:: 邮箱格式验证
echo %email% | findstr /r "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" >nul
if %errorlevel% neq 0 (
    echo 错误：邮箱格式无效！
    goto validate_email
)

:: 域名黑名单验证
echo %email% | findstr /i "@spam.com$ @malicious.org$" >nul
if %errorlevel% equ 0 (
    echo 错误：禁止使用该邮箱服务！
    goto validate_email
)

echo 邮箱验证通过！
pause

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::



:main
::基础定义与运算
set a1=1
set /a a2=1+6+8*5
set /a a3=%a1%+%a2%
set b1=无空格字符串
set "b2=有 空格 字 符 串"
set "b3=有空格格式定义无空格字符串"


::验证输出语句
echo %a1%
echo %a2%
echo %a1%+%a2%=%a3%
echo %b1%
echo %b2%
echo %b3%
echo ========================================================
::set /p name=请输入您的名字：
::echo 您的名字为:%name%



:app1

echo =====================练习题1==============================
set /p id=请输入您的id：
set /p "name11=请输入您的名字:"
set /p posts=请输入您的职位：
set /p time1=请输入您的入职日期：

::%变量:~[起始位置],[长度]%----字符串截取语句,中文也算一个字符

set /a aa=%date:~3,4%-%time1%

echo.
echo ================ 员工信息 ================
echo 您的ID：%id%
echo 您的姓名：%name11%
echo 您的职位：%posts%
echo 入职年份：%time1%
echo 您的工龄：%aa%年
echo ========================================

echo =====================练习题1已完成=======================


:app2
echo =====================练习题2==============================

set /p user_data1=请输入第一个数字：
set /p user_data2=请输入第二个数字：

set /a a1=%user_data1%+%user_data2%
set /a a2=%user_data1%-%user_data2%
set /a a3=%user_data1%*%user_data2%
set /a a4=%user_data1%/%user_data2%
set /a a5=%user_data1% %% %user_data2%

echo %user_data1%+%user_data2%=%a1%
echo %user_data1%-%user_data2%=%a2%
echo %user_data1%*%user_data2%=%a3%
echo %user_data1%/%user_data2%=%a4%
call echo %num1% %%%%%% %num2% = %a5%

echo =====================练习题2已完成=======================









pause

